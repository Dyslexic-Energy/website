/* ====== Base & Accessibility ====== */
:root{
  --bg:#ffffff;
  --text:#1e1e1e;
  --muted:#5a5a5a;
  --brand:#222222;
  --card:#f6f7f8;
  --accent: #6a5acd; /* slate “magic” accent */
  --focus: #ffbf47;  /* GOV.UK style amber focus */
  --radius: 14px;
  --shadow: 0 2px 12px rgba(0,0,0,.08);
  --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
  --heading: ui-rounded, "SF Pro Rounded", var(--font);
  --maxw: 1100px;
  --page-pad: clamp(20px, 5vw, 40px);
  --line: 1.65;
  --letter: 0.01em;
  --rainbow: linear-gradient(90deg,
    #ff6b6b, #ffa559, #ffd166, #9be15d, #5ad7ff, #9b8cff, #ff7bd3);
}
[data-contrast="high"]{
  --bg:#000;
  --text:#fff;
  --muted:#e0e0e0;
  --brand:#fff;
  --card:#121212;
  --accent:#00e0ff;
  --shadow:none;
}

html{scroll-behavior:smooth}
body{
  margin:0; background:var(--bg); color:var(--text);
  font: 16px/var(--line) var(--font); letter-spacing: var(--letter);
  -webkit-text-size-adjust:100%;
}
.container{max-width:var(--maxw); margin:auto; padding:0 var(--page-pad)}
a{color:var(--accent)}
a:focus, button:focus, [role="switch"]:focus-visible{
  outline:3px solid var(--focus); outline-offset:3px; border-radius:8px
}
.sr-only{position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0}
.skip-link{
  position:absolute; left:-9999px; top:auto;
}
.skip-link:focus{left:16px; top:16px; background:#fff; color:#000; padding:10px 14px; z-index:9999; border-radius:8px}

/* ====== Header / Nav ====== */
header{
  position:sticky; top:0; z-index:50; backdrop-filter:saturate(180%) blur(10px);
  background: color-mix(in oklab, var(--bg) 85%, transparent);
  border-bottom:1px solid color-mix(in oklab, var(--text) 8%, transparent);
}
.nav{
  display:flex; align-items:center; justify-content:space-between; gap:16px; padding:14px 0;
}
.brand{
  display:flex; align-items:center; gap:12px; text-decoration:none;
}
.logo{
  width:40px; height:40px; border-radius:12px; box-shadow:var(--shadow);
  background: var(--rainbow);
}
.wordmark{
  font-family: var(--heading); font-size:1.25rem; font-weight:800; line-height:1.1;
  background: var(--rainbow); -webkit-background-clip:text; background-clip:text; color:transparent;
  letter-spacing:.4px;
}
.nav a{ text-decoration:none; color:var(--text); font-weight:600 }
.nav .links{display:flex; gap:18px; align-items:center; flex-wrap:wrap}

.dropdown{position:relative}
.dropdown-panel{
  position:absolute; right:0; top:calc(100% + 10px);
  width:min(280px, 85vw);
  background:var(--card);
  padding:16px;
  border-radius:var(--radius);
  box-shadow:var(--shadow);
  border:1px solid color-mix(in oklab, var(--text) 12%, transparent);
  z-index:100;
}
[data-dropdown][data-open="false"] .dropdown-panel{display:none}
.dropdown-title{margin:0 0 10px; font-weight:700; font-size:1rem}
.dropdown-note{margin:.8rem 0 0; color:var(--muted); font-size:.9rem}
.dropdown-panel .toggles{flex-direction:column; align-items:stretch}
.dropdown-panel .toggle{justify-content:space-between}

.btn{
  appearance:none; border:2px solid transparent; background:var(--text); color:var(--bg);
  padding:10px 16px; border-radius:10px; font-weight:700; cursor:pointer;
}
.btn.secondary{
  background:transparent; color:var(--text);
  border-color: color-mix(in oklab, var(--text) 20%, transparent);
}

/* ====== Hero ====== */
.hero{
  padding:72px 0 44px; position:relative; overflow:hidden;
}
.sparkles{
  position:absolute; inset:-10% -20% auto -20%;
  height:220px; background:radial-gradient(60% 60% at 50% 50%, color-mix(in oklab, var(--accent) 25%, transparent), transparent 70%),
             radial-gradient(50% 50% at 20% 80%, color-mix(in oklab, #ffd166 30%, transparent), transparent 70%);
  filter: blur(30px); opacity:.65; pointer-events:none;
}
[data-reduced-motion="true"] .sparkles{display:none}

.hero-intro{max-width:min(720px, 100%); margin:0 auto; padding:0 var(--page-pad)}

h1{
  font-family: var(--heading); font-weight:900; font-size: clamp(2rem, 4vw, 3rem); margin:0 0 12px;
}
.tagline{font-size:1.15rem; color:var(--muted); margin:0 0 22px}
.cta-row{display:flex; gap:12px; flex-wrap:wrap}

/* ====== Sections ====== */
section{padding:54px 0; border-top:1px solid color-mix(in oklab, var(--text) 8%, transparent)}
section h2{
  font-family:var(--heading); font-size: clamp(1.5rem, 2.6vw, 2.1rem); margin:0 0 10px
}
.lead{color:var(--muted); margin:0 0 26px}

.cards{display:grid; grid-template-columns: repeat(12, 1fr); gap:16px}
.card{
  grid-column: span 4; background:var(--card); padding:18px; border-radius:var(--radius); box-shadow:var(--shadow)
}
.card h3{margin:.2rem 0 .4rem; font-size:1.1rem}
.card p{margin:0; color:var(--muted)}
@media (max-width:900px){ .card{grid-column: span 6} }
@media (max-width:640px){ .card{grid-column: span 12} }

.donation{
  display:flex; gap:18px; align-items:flex-start; flex-wrap:wrap;
  background: conic-gradient(from 180deg at 50% 50%, #fff0 0 25%, color-mix(in oklab, #ffd166 25%, transparent) 25% 50%, #fff0 50% 75%, color-mix(in oklab, #9b8cff 22%, transparent) 75% 100%);
  border-radius:var(--radius); padding:18px; box-shadow:var(--shadow)
}
.donation strong{white-space:nowrap}

/* ====== Footer ====== */
footer{padding:44px 0 72px; color:var(--muted)}
.footer-grid{display:flex; gap:20px; justify-content:space-between; flex-wrap:wrap}
.fine{font-size:.9rem}

/* ====== Toggles Panel ====== */
.toggles{
  display:flex; gap:10px; flex-wrap:wrap; align-items:center
}
.toggle{
  display:flex; align-items:center; gap:8px; padding:8px 10px; background:var(--card); border-radius:12px; box-shadow:var(--shadow)
}
.pill{display:inline-block; padding:.1rem .5rem; border-radius:999px; background: var(--rainbow); color:#000; font-weight:800}
